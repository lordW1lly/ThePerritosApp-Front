{"ast":null,"code":"import axios from 'axios';\nconst UrlDeploy = 'https://theperritosapp-back-production.up.railway.app';\n//              \n\nexport function getDogs() {\n  return async function (dispatch) {\n    let allDogs = (await axios.get(`${UrlDeploy}/dogs`)).data;\n    dispatch({\n      type: \"GET_DOGS\",\n      payload: allDogs\n    });\n  };\n}\nexport function searchDog(name) {\n  return async function (dispatch) {\n    let breedName = (await axios.get(`${UrlDeploy}/dogs?name=${name}`)).data;\n    dispatch({\n      type: \"SEARCH_DOG\",\n      payload: breedName\n    });\n  };\n}\nexport function getDogID(id) {\n  return async dispatch => {\n    let dogID = (await axios.get(`${UrlDeploy}/dogs/${id}`)).data;\n    dispatch({\n      type: \"GET_DOG_ID\",\n      payload: dogID\n    });\n  };\n}\nexport function getTemperaments() {\n  return async dispatch => {\n    let dogTemperaments = (await axios.get(`${UrlDeploy}/temperament`)).data;\n    dispatch({\n      type: \"GET_TEMPERAMENTS\",\n      payload: dogTemperaments\n    });\n  };\n}\nexport function reset() {\n  return dispatch => {\n    dispatch({\n      type: \"RESET\"\n    });\n  };\n}\nexport function createDog(dog, temperament) {\n  return async dispatch => {\n    try {\n      /* let newDog = {\r\n          name: dog.name,\r\n          height: `${dog.minHeight} - ${dog.maxHeight}`,\r\n          weight: `${dog.minWeight} - ${dog.maxWeight}`,\r\n          temperament: temperament.temperament,\r\n          lifeSpan: `${dog.minLifeSpan} - ${dog.maxLifeSpan}`\r\n      } */\n      let newDog = {\n        name: dog.name,\n        height: dog.height,\n        weight: dog.weight,\n        temperament: dog.temperament,\n        lifeSpan: dog.lifeSpan\n      };\n      let resp = '';\n      await axios.post(`${UrlDeploy}/dog`, newDog).then(response => resp = response.data);\n      return dispatch({\n        type: 'CREATE_DOG',\n        payload: resp\n      });\n    } catch (error) {\n      return console.log(error);\n    }\n  };\n}\nexport function filterByTemps(temperament) {\n  return {\n    type: \"FILTER_TEMPERAMENTS\",\n    payload: temperament\n  };\n}\nexport function filterTemps(selectedTemps) {\n  return async dispatch => {\n    const allDogs = (await axios.get(`${UrlDeploy}/dogs`)).data;\n    try {\n      let splittedTemps = allDogs.map(dog => {\n        var _dog$temperament;\n        let dogo = {\n          id: dog.id,\n          image: dog.image,\n          name: dog.name,\n          temperament: (_dog$temperament = dog.temperament) === null || _dog$temperament === void 0 ? void 0 : _dog$temperament.split(', '),\n          weight: dog.weight\n        };\n        return dogo;\n      });\n      console.log('soy splitted', splittedTemps);\n      console.log('soy selectedTemps', selectedTemps);\n      let dogsWithTemp = [];\n      if (selectedTemps.length === 0) {\n        dogsWithTemp = allDogs;\n        console.log('soy tempslength0:', dogsWithTemp);\n        return dispatch({\n          type: 'FILTER_TEMPS',\n          payload: allDogs\n        });\n      }\n      for (let i = 0; i < selectedTemps.length; i++) {\n        if (i < 1) {\n          let oneTemp = splittedTemps.filter(dog => {\n            var _dog$temperament2;\n            return (_dog$temperament2 = dog.temperament) === null || _dog$temperament2 === void 0 ? void 0 : _dog$temperament2.includes(selectedTemps[i]);\n          });\n          console.log('soy oneTemp:', oneTemp);\n          dogsWithTemp = oneTemp;\n        }\n        let othersTemps = dogsWithTemp.filter(dog => {\n          var _dog$temperament3;\n          return (_dog$temperament3 = dog.temperament) === null || _dog$temperament3 === void 0 ? void 0 : _dog$temperament3.includes(selectedTemps[i]);\n        });\n        dogsWithTemp = othersTemps;\n      }\n      let dogsFinal = dogsWithTemp.map(dog => {\n        var _dog$temperament4;\n        let tempString = ((_dog$temperament4 = dog.temperament) === null || _dog$temperament4 === void 0 ? void 0 : _dog$temperament4.map(tmp => \" \".concat(tmp))).toString();\n        console.log(tempString);\n        let dogconcat = {\n          name: dog.name,\n          image: dog.image,\n          id: dog.id,\n          weight: dog.weight,\n          temperament: tempString //dog.temperament?.concat('').toString('')\n        };\n\n        return dogconcat;\n      });\n      console.log('soy dogsFinal', dogsFinal);\n      /* console.log('soy filtered', filtered) */\n      return dispatch({\n        type: 'FILTER_TEMPS',\n        payload: dogsFinal\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport function orderNameAZ() {\n  return {\n    type: \"ORDER_A_Z\"\n  };\n}\nexport function orderNameZA() {\n  return {\n    type: \"ORDER_Z_A\"\n  };\n}\nexport function orderWeightASC() {\n  return {\n    type: 'ORDER_WEIGHT_ASC'\n  };\n}\nexport function orderWeightDESC() {\n  return {\n    type: 'ORDER_WEIGHT_DESC'\n  };\n}\nexport function filterByApi() {\n  return {\n    type: 'FILTER_BY_API'\n  };\n}\nexport function filterByDB() {\n  return {\n    type: 'FILTER_BY_DB'\n  };\n}\nexport function allOrigins() {\n  return {\n    type: 'ALL_ORIGINS'\n  };\n}","map":{"version":3,"names":["axios","UrlDeploy","getDogs","dispatch","allDogs","get","data","type","payload","searchDog","name","breedName","getDogID","id","dogID","getTemperaments","dogTemperaments","reset","createDog","dog","temperament","newDog","height","weight","lifeSpan","resp","post","then","response","error","console","log","filterByTemps","filterTemps","selectedTemps","splittedTemps","map","dogo","image","split","dogsWithTemp","length","i","oneTemp","filter","includes","othersTemps","dogsFinal","tempString","tmp","concat","toString","dogconcat","orderNameAZ","orderNameZA","orderWeightASC","orderWeightDESC","filterByApi","filterByDB","allOrigins"],"sources":["C:/Users/sebae/OneDrive/Escritorio/Henry/Pi-Dogs-Frontend/ThePerritosApp-Front/client/src/actions/index.js"],"sourcesContent":["import axios from 'axios';\r\nconst UrlDeploy = 'https://theperritosapp-back-production.up.railway.app'\r\n//              \r\n\r\n\r\n\r\n export  function getDogs() {\r\n    return async function(dispatch) {\r\n        \r\n        let allDogs = (await axios.get(`${UrlDeploy}/dogs`)).data;\r\n        \r\n        dispatch({\r\n            type:\"GET_DOGS\",\r\n            payload: allDogs\r\n        })\r\n        \r\n    }\r\n}\r\n\r\nexport function searchDog(name) {\r\n    return async function(dispatch) {\r\n        let breedName = (await axios.get(`${UrlDeploy}/dogs?name=${name}`)).data;\r\n        dispatch({\r\n            type: \"SEARCH_DOG\",\r\n            payload: breedName\r\n        })\r\n    }\r\n}\r\nexport function getDogID(id) {\r\n    return async (dispatch) => { \r\n        let dogID = (await axios.get(`${UrlDeploy}/dogs/${id}`)).data\r\n        dispatch({\r\n            type: \"GET_DOG_ID\",\r\n            payload: dogID\r\n        })\r\n    }\r\n}\r\n\r\nexport function getTemperaments() {\r\n    return async (dispatch) => {\r\n        let dogTemperaments = (await axios.get(`${UrlDeploy}/temperament`)).data\r\n        dispatch({\r\n            type: \"GET_TEMPERAMENTS\",\r\n            payload: dogTemperaments\r\n        })\r\n    }\r\n}\r\n\r\nexport  function reset() {\r\n    return (dispatch) =>{\r\n        dispatch({\r\n            type: \"RESET\"\r\n        }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport function createDog(dog, temperament) {\r\n    return async (dispatch) => {\r\n        try {\r\n            /* let newDog = {\r\n                name: dog.name,\r\n                height: `${dog.minHeight} - ${dog.maxHeight}`,\r\n                weight: `${dog.minWeight} - ${dog.maxWeight}`,\r\n                temperament: temperament.temperament,\r\n                lifeSpan: `${dog.minLifeSpan} - ${dog.maxLifeSpan}`\r\n            } */\r\n            let newDog = {\r\n                name: dog.name,\r\n                height: dog.height,\r\n                weight: dog.weight,\r\n                temperament: dog.temperament,\r\n                lifeSpan: dog.lifeSpan\r\n            }\r\n            let resp = ''\r\n            await axios.post(`${UrlDeploy}/dog`, newDog)\r\n            .then(response => resp = response.data)\r\n            return dispatch({\r\n                type: 'CREATE_DOG',\r\n                payload: resp\r\n            })\r\n\r\n        } catch(error) {\r\n            return console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nexport function filterByTemps(temperament) {\r\n    return {\r\n        type: \"FILTER_TEMPERAMENTS\",\r\n        payload: temperament\r\n    }\r\n}\r\n\r\nexport function filterTemps(selectedTemps) {\r\n    return async (dispatch) => {\r\n        const allDogs =  (await axios.get(`${UrlDeploy}/dogs`)).data\r\n        try {\r\n            \r\n            let splittedTemps = allDogs.map(dog =>  {\r\n                let dogo = {\r\n                    id: dog.id,\r\n                    image: dog.image,\r\n                    name: dog.name,\r\n                    temperament: dog.temperament?.split(', '),\r\n                    weight: dog.weight\r\n                }\r\n                return dogo\r\n            })\r\n            console.log('soy splitted', splittedTemps)\r\n            console.log('soy selectedTemps', selectedTemps)\r\n             \r\n            \r\n            let dogsWithTemp = []\r\n            if(selectedTemps.length === 0) {\r\n                dogsWithTemp = allDogs\r\n                console.log('soy tempslength0:', dogsWithTemp)\r\n                return dispatch({\r\n                    type: 'FILTER_TEMPS',\r\n                    payload: allDogs\r\n                })\r\n            }\r\n            for( let i=0 ; i < selectedTemps.length; i++ ) {\r\n                  if (i < 1) {\r\n                   let oneTemp = splittedTemps.filter(dog => dog.temperament?.includes(selectedTemps[i]))\r\n                   console.log('soy oneTemp:', oneTemp)\r\n                   dogsWithTemp = oneTemp\r\n                }\r\n                let othersTemps = dogsWithTemp.filter(dog => dog.temperament?.includes(selectedTemps[i]))\r\n                dogsWithTemp = othersTemps\r\n                \r\n                    \r\n               \r\n                \r\n            }\r\n            let dogsFinal = dogsWithTemp.map( dog => {\r\n               let tempString = (dog.temperament?.map(tmp => \" \".concat(tmp))).toString()\r\n                console.log(tempString)\r\n                let dogconcat = {\r\n                    name: dog.name,\r\n                    image: dog.image,\r\n                    id: dog.id,\r\n                    weight: dog.weight,\r\n                    temperament: tempString //dog.temperament?.concat('').toString('')\r\n                }\r\n                return dogconcat\r\n            })\r\n            console.log('soy dogsFinal',dogsFinal)\r\n            /* console.log('soy filtered', filtered) */\r\n            return dispatch({\r\n                type: 'FILTER_TEMPS',\r\n                payload: dogsFinal\r\n            })\r\n        } catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nexport function orderNameAZ() {\r\n    return {\r\n        type: \"ORDER_A_Z\"\r\n    }\r\n}\r\n\r\nexport function orderNameZA () {\r\n    return {\r\n        type: \"ORDER_Z_A\"\r\n    }\r\n}\r\n\r\nexport function orderWeightASC () {\r\n    return {\r\n        type: 'ORDER_WEIGHT_ASC'\r\n    }\r\n}\r\n\r\nexport function orderWeightDESC () {\r\n    return {\r\n        type: 'ORDER_WEIGHT_DESC'\r\n    }\r\n}\r\n\r\nexport function filterByApi () {\r\n    return {\r\n        type: 'FILTER_BY_API',\r\n        \r\n    }\r\n}\r\n\r\nexport function filterByDB () {\r\n    return {\r\n        type: 'FILTER_BY_DB',\r\n        \r\n    }\r\n}\r\n\r\nexport function allOrigins() {\r\n    return {\r\n        type: 'ALL_ORIGINS'\r\n    }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}